---
layout: default
title: xsl:comment
nav_order: 7
parent: XSLT
---

<!-- prettier-ignore-start -->
# xsl:comment
{: .no_toc }
<!-- prettier-ignore-end -->

Элемент **`xsl:comment`** используется для создания в конечном дереве узла комментариев. Содержимое элемента `xsl:comment` является шаблоном для строкового значения данного узла комментария.

<!-- prettier-ignore -->
1. TOC
{:toc}

## Синтаксис

### XSLT 1.0

```xml
<xsl:comment>
    <!-- Содержимое: template -->
</xsl:comment>
```

### XSLT 2.0 и XSLT 3.0

```xml
<xsl:comment
    select = "выражение">
    <!-- Содержимое: sequence-constructor -->
</xsl:comment>
```

Атрибуты:

- `select` — _необязательный_ элемент, выражение XPath, генерирующее содержимое комментария. Если атрибут отсутствует, вместо него используется содержимое элемента `<xsl:comment>`. Если атрибут `select` отсутствует, а элемент `<xsl:comment>` пуст, генерируется пустой комментарий. Если элемент содержит атрибут `select` и одновременно имеет содержимое, происходит фатальная ошибка.

## Описание и примеры

Если при обработке содержимого `xsl:comment` создаются узлы, не являющиеся строковыми, фиксируется ошибка. XSLT-процессор может сигнализировать о такой ошибке. Если он этого не делает, то должен обработать ее сам, игнорируя неправильные узлы вместе с их содержимым.

Если результат обработки содержимого `xsl:comment` содержит строку `--` или заканчивается символом `-`, фиксируется ошибка. XSLT процессор может сигнализировать о такой ошибке. Если он этого не делает, он должен сам обработать ошибку, поставив пробел после всех символов `-`, за которыми следует либо другой символ `-`, либо конец строки.

### Пример

Код

```xml
<xsl:comment>This file is automatically generated. Do not edit!</xsl:comment>
```

создаст следующий комментарий:

```xml
<!--This file is automatically generated. Do not edit!-->
```

Чтобы использовать атрибут `select`, добавленный в XSLT 2.0, можно включить элемент `<xsl:comment>` в таблицу стилей:

```xml
<xsl:comment select="concat('The second album is ', list/listitem[2])"/>
```

В выходных данных HTML генерируется следующий комментарий:

```xml
<!--The second album is Only the Poor Man Feel It-->
```

Если элемент `<xsl:comment>` используется для генерирования кода JavaScript, завершите свой код комментарием JavaScript, как в следующем примере:

```xml
<SCRIPT type="text/javascript">
    <xsl:comment> // Скрыть код от старых броузеров
        function iOver(image)
        {
            if (browser="N3") document[image].src=eval(image + "over.src");
        }
    // </xsl:comment>
</SCRIPT>
```

Размещение двух косых черт в последней строке создает комментарий JavaScript. В этом случае интерпретатор JavaScript проигнорирует знак `-->` в конце комментария.

## Ссылки

- [`xsl:comment`](https://developer.mozilla.org/en/XSLT/comment) на MDN
- [`xsl:comment`](https://msdn.microsoft.com/en-us/library/ms256145.aspx) на MSDN
